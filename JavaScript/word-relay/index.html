<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ëë§ì‡ê¸°</title>
</head>

<body>
  <div>
    <header>
      <h1>ëë§ì‡ê¸°</h1>
      <span id="order">1</span>ë²ˆì§¸ ìˆœì„œ
    </header>
    <section>
      ì œì‹œì–´: <span id="word"></span>
    </section>
    <section>
      <input type="text">
      <button>ì…ë ¥</button>
    </section>



    <script>
      // ì „ì—­ë³€ìˆ˜
      // ì…ë ¥í•œ ë‹¨ì–´ ì €ì¥
      let inputWord;

      // ì œì‹œì–´ ë‹¨ì–´ ì €ì¥
      let keyword;

      // node ì„ íƒ
      const $keyword = document.querySelector("#word");
      const $input = document.querySelector("input");
      const $order = document.querySelector("#order");
      const $button = document.querySelector("button");

      // ì°¸ê°€í•  ì¸ì› ì…ë ¥
      const number = parseInt(prompt("ì°¸ê°€ ì¸ì›ìˆ˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."), 10);
      console.log("ì°¸ê°€ ì¸ì›: ", number);

      // ì‹¤í–‰ í•¨ìˆ˜
      const inputValue = (e) => {
        inputWord = e.target.value;
      }

      const onClickBtn = function () {
        // ì œì‹œì–´ê°€ ë¹„ì–´ìˆëŠ”ê°€?
        if (!keyword || keyword[keyword.length - 1] === inputWord[0]) {
          // ë¹„ì–´ìˆë‹¤ë©´, ì…ë ¥í•œ ë‹¨ì–´ë¥¼ ì œì‹œì–´ ë³€ìˆ˜ì— ë„£ì–´ì¤€ë‹¤.
          keyword = inputWord;
          console.log("ì œì‹œì–´: ", keyword);
          // ì €ì¥í•œ ì œì‹œì–´ë¥¼ í™”ë©´ì— í‘œì‹œí•´ì¤€ë‹¤.
          $keyword.textContent = keyword;

          // ë‹¤ìŒ ì‚¬ëŒì—ê²Œ ìˆœì„œë¥¼ ë„˜ê²¨ì¤€ë‹¤. => í˜„ì¬ ë‚´ ìˆœì„œ íŒŒì•… í•„ìš”
          // $order.textContentê°€ stringì´ë¯€ë¡œ ì •í™•í•œ ë¹„êµë¥¼ ìœ„í•´ ì°¸ê°€ì¸ì›ìˆ˜ì™€ ìë£Œí˜•ì„ ì¼ì¹˜ì‹œì¼œì£¼ì.
          const order = parseInt($order.textContent);
          // í˜„ì¬ ìˆœì„œì™€ ì°¸ê°€ ì¸ì›ìˆ˜ë¥¼ ë¹„êµ => ì°¸ê°€ ì¸ì›ìˆ˜ë³´ë‹¤ í˜„ì¬ ìˆœì„œê°€ ì»¤ì§€ë©´ ë‹¤ì‹œ ì²« ìˆœì„œë¡œ ë³€ê²½ í•„ìš”
          if (order + 1 > number) {
            $order.textContent = 1;
          } else {
            $order.textContent = order + 1;
          }

          // ğŸ› ï¸  (ì¤‘ë³µì½”ë“œ ì œê±°)

          // ì‚¬ìš©ìê°€ ì…ë ¥í•˜ê¸° í¸í•˜ê²Œ input ì´ˆê¸°í™” ì§„í–‰
          $input.value = '';
          // ì»¤ì„œê°€ ë‹¤ì‹œ inputì— ê°€ë„ë¡ ì„¤ì •
          $input.focus();

        } else {
          // ë§Œì•½ ì…ë ¥í•œ ë‹¨ì–´ê°€ í‹€ë¦¬ë‹¤ë©´, í‹€ë ¸ë‹¤ê³  í‘œì‹œí•œë‹¤.
          alert(`${keyword.slice(-1)}ë¡œ ì‹œì‘í•˜ëŠ” ë‹¨ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!`);
          // ë‹¤ì‹œ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ input ì°½ì„ ë¹„ì›Œì£¼ê³ , ì»¤ì„œë¥¼ ë‹¤ì‹œ ì ìš©í•´ì¤€ë‹¤.
          $input.value = "";
          $input.focus();
        }
      }


      // ğŸ› ï¸ 
      $input.addEventListener('input', inputValue);


      // ğŸ› ï¸ 
      $button.addEventListener('click', onClickBtn);


    </script>
  </div>
</body>

</html>